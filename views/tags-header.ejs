<style>
    .search-container {
        width: 100%;
        max-width: 800px;
        display: flex;
        align-items: center;
        padding: 16px 0;
    }
.searchBoxContainer {
        display: flex; /* none */
        align-self: center;
        padding-left: 12px;
        background-color: var(--bg-color);
        color: var(--text-color);
        width: 100%;
        width: 100%;
        margin: 0px 40px;
        border: solid #9C9C9C 1px;
        border-radius: 4px;
    }
    .searchBoxContainerUpper {
        display: flex;
        align-items: center;
    }
    .searchBoxContainerLower {
        display: flex;
        align-items: center;
        margin: 0;
        margin-bottom: 20px;
        width: 100%;
        max-width: 720px;
        display: none;
    }
    .searchBox {
        display: flex; /* none */
        align-self: center;
        flex-direction: column;
        background-color: var(--bg-color);
        color: var(--text-color);
        width: 100%;
        margin: 0px;
        border: none;
        padding: 8px 12px;
        font-family: "IBM Plex Sans", sans-serif;
        font-size: 16px;
        font-weight: 500;
        border-radius: 4px;
    }
    @media all and (max-width: 900px) {
        .navigation-container, .signupHolder {
            flex: 4;
        }

        .searchBoxContainerUpper {
            display: none;
        }

        .searchBoxContainerLower {
            display: flex;
        }
    }
</style>

<div class="searchBoxContainer searchBoxContainerLower">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
    </svg>
    <input type="text" id="searchBoxLower" name="searchBox" placeholder="Search" class="searchBox">
</div>
<section class="categories-container-holder">
    <div id="categories-container" class="categories-container"></div>
</section>
<div class="search-container">
    <section class="searchBoxContainer searchBoxContainerUpper">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
        <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
        </svg>
        <input type="text" id="searchBoxUpper" name="searchBox" placeholder="Search" class="searchBox">
    </section>
</div>

<script>
    
    //added some themes!
    let listOfCategories = ["all", "eng", "product", "infra", "projects", "design", "edu", "news", "events", "ventures", "other"];

    let finalInner = "";

    listOfCategories.forEach((categoryName) => {
        //changed this to call a function
        finalInner += `<p class="category-holder"><button onclick="switchCategory('${categoryName}')" id="category-${categoryName}" class="categories-child category">${categoryName}</button></p>`;
    });

    document.getElementById("categories-container").innerHTML = finalInner;

    let selectedCategory = "category-all";
    document.getElementById(selectedCategory).className = "categories-child category category-selected";

    const switchCategory = (category) => {
        let listOfPosts = document.getElementById("page_container").children;

        let listOfCategoriesToInvis = listOfCategories.filter(function (e) {
            return e !== category;
        }); //removed the category we don't want to hide

        listOfCategoriesToInvis.splice(0, 1); //for the love of all that is good DONT MOVE THE ALL CATEGORY OUT OF THE FIRST POSITION. THIS WILL BREAK EVERYTHING

        let finalInner = "";

        let display = "none";

        if (category == "all") {
            display = "block";
        }

        //hiding the categories we want to hide
        for (let i = 0; i < listOfCategoriesToInvis.length; i++) {
            finalInner += `.post-category-${listOfCategoriesToInvis[i]} {\n    display: ${display};\n}\n`;
        }

        //changing the selected button at the top
        document.getElementsByClassName("category-selected")[0].classList.remove("category-selected");

        //weird bug where the all button would just stay selected lol
        document.getElementById(`category-all`).classList.remove("category-selected");

        //making the selected visible
        //we do this last so if an item has a hiddent category and a visible category, it still shows up
        finalInner += `.post-category-all {\n    display: block;\n}\n.post-category-${category} {\n    display: block;\n}`;

        //selecting this one
        document.getElementById(`category-${category}`).classList.add("category-selected");

        //adding css for the different posts
        document.getElementById("cssHolderCategories").innerHTML = finalInner;

        //if no posts are there, show the AWWWWWWWWWWWWW MANNNNNNNNNN thing at the bottom
        if (document.getElementsByClassName(`post-category-${category}`).length == 0 && category != "all") {
            document.getElementById("noPostsNotifier").style["display"] = "block";
        } else {
            document.getElementById("noPostsNotifier").style["display"] = "none";
        }
    };
</script>
