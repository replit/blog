{"_id":"post-23b1ac13-b8ca-4021-ac13-faf0990393d9","_type":"post","title":"Why We Switched From Webpack To Vite","slug":{"_type":"slug","current":"vite"},"body":[{"_key":"d7d7cad662a7","children":[{"_type":"span","marks":[],"text":"At Replit, our mission is to make programming more accessible. We provide people with free compute in the cloud so that they can build apps on any device. Among the most popular ways to create apps on the web today is React. Historically, however, React tooling has been slow on Replit. While the JavaScript ecosystem has produced excellent tools for professional developers, many of the most popular ones, like Create React App and Webpack, have become increasingly complex and inefficient.","_key":"d7d7cad662a70"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"0a432aefde06","children":[{"_type":"span","marks":[],"text":"Fortunately, we've seen the JavaScript community recognize this problem and move to build faster and more efficient tooling, which means we can finally deliver the experience our users expect from us.","_key":"0a432aefde060"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"68bbff0bfb27","children":[{"_type":"span","_key":"68bbff0bfb270","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"image","_sanityAsset":"image@https://blog.replit.com/images/vite/logo.png","_key":"c97ad944d548"},{"_key":"87b8ffaec37c","children":[{"_type":"span","marks":[],"text":"This new experience is powered by ","_key":"87b8ffaec37c0"},{"_type":"span","marks":["fd8152de274a"],"text":"Vite","_key":"87b8ffaec37c1"},{"_type":"span","marks":[],"text":", a JavaScript build tool that provides a fast and lean development experience. Vite comes with a number of features including ","_key":"87b8ffaec37c2"},{"_type":"span","marks":["836dd2b68943"],"text":"HMR","_key":"87b8ffaec37c3"},{"_type":"span","marks":[],"text":", or Hot Module Replacement, a build command that bundles your tools with ","_key":"87b8ffaec37c4"},{"_type":"span","marks":["9e278fa33e99"],"text":"Rollup","_key":"87b8ffaec37c5"},{"_type":"span","marks":[],"text":", and built-in support for TypeScript and JSX.","_key":"87b8ffaec37c6"}],"markDefs":[{"_key":"fd8152de274a","_type":"link","href":"https://vitejs.dev"},{"_key":"836dd2b68943","_type":"link","href":"https://vitejs.dev/guide/features.html#hot-module-replacement"},{"_key":"9e278fa33e99","_type":"link","href":"https://rollupjs.org/guide/en/"}],"_type":"block","style":"normal"},{"_key":"6a96bdac51ea","children":[{"_type":"span","marks":[],"text":"Vite makes React dev fast. Like really fast. With HMR, changes you make trigger rerenders within milliseconds which makes prototyping UIs really quick. With that in mind, we decided to rewrite our React template using Vite and we were shocked to see just how much faster it was. Here's what it looks like next to our old CRA template:","_key":"6a96bdac51ea0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"f7b829ec3856","children":[{"_type":"span","marks":[],"text":"Create React App vs Vite React on ","_key":"f7b829ec38560"},{"_type":"span","marks":["322f110e5b9c"],"text":"@replit","_key":"f7b829ec38561"},{"_type":"span","marks":[],"text":".\n\nVite ran before the container could even boot CRA files. ","_key":"f7b829ec38562"},{"_type":"span","marks":["3ed7a8129d03"],"text":"pic.twitter.com/lZe87brsjv","_key":"f7b829ec38563"},{"_type":"span","marks":[],"text":"\n\n— Amjad Masad ⠕ (@amasad) ","_key":"f7b829ec38564"},{"_type":"span","marks":["f77f4c1e73b9"],"text":"January 30, 2021","_key":"f7b829ec38565"}],"markDefs":[{"_key":"322f110e5b9c","_type":"link","href":"https://twitter.com/Replit?ref_src=twsrc%5Etfw"},{"_key":"3ed7a8129d03","_type":"link","href":"https://t.co/lZe87brsjv"},{"_key":"f77f4c1e73b9","_type":"link","href":"https://twitter.com/amasad/status/1355379680275128321?ref_src=twsrc%5Etfw"}],"_type":"block","style":"blockquote"},{"_key":"bd9f2511ac7c","children":[{"_type":"span","marks":[],"text":"Over the last few weeks, our new React template has helped our designers prototype complex UI components and enabled many of our engineering candidates to build out an entire web app in just a few hours during our (virtual) onsites. When you see it in action, it's easy to see why:","_key":"bd9f2511ac7c0"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"image","_sanityAsset":"image@https://blog.replit.com/images/vite/demo.gif","_key":"2f556a2df6ae"},{"_key":"5e54682258f7","children":[{"_type":"span","marks":[],"text":"How it works","_key":"5e54682258f70"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"b55d28ad60ad","children":[{"_type":"span","marks":[],"text":"Vite works by treating your source code and your dependencies differently. Unlike your source code, dependencies don't change nearly as often during development. Vite takes advantage of this fact by pre-bundling your dependencies using ","_key":"b55d28ad60ad0"},{"_type":"span","marks":["65a8b101d9c2"],"text":"esbuild","_key":"b55d28ad60ad1"},{"_type":"span","marks":[],"text":". Esbuild is a JS bundler written in Go that bundles dependencies 10-100x faster than JavaScript based alternatives like Webpack and Parcel.","_key":"b55d28ad60ad2"}],"markDefs":[{"_key":"65a8b101d9c2","_type":"link","href":"https://esbuild.github.io/"}],"_type":"block","style":"normal"},{"_key":"cad8da8ef90c","children":[{"_type":"span","marks":[],"text":"It then serves your source code over native ","_key":"cad8da8ef90c0"},{"_type":"span","marks":["654f2ec50746"],"text":"ES Modules","_key":"cad8da8ef90c1"},{"_type":"span","marks":[],"text":", or ESM, which allows the browser to handle the actual bundling.","_key":"cad8da8ef90c2"}],"markDefs":[{"_key":"654f2ec50746","_type":"link","href":"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules"}],"_type":"block","style":"normal"},{"_key":"1e014e5a16d1","children":[{"_type":"span","marks":[],"text":"Finally, Vite supports HMR, which ensures only the relevant modules are replaced when a file is edited instead of rebuilding the entire bundle, which triggers a page reload and resets state. Unlike other bundlers, Vite performs HMR over native ES Modules which means it only needs to invalidate affected modules when a file is edited. This ensures that update times are consistently fast instead of scaling linearly as your application grows.","_key":"1e014e5a16d10"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"bc1ec4747533","children":[{"_type":"span","marks":[],"text":"Getting Started","_key":"bc1ec47475330"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"739b7481f017","children":[{"_type":"span","marks":[],"text":"To get started, simply fork our ","_key":"739b7481f0170"},{"_type":"span","marks":["39112d4d18b1"],"text":"React template","_key":"739b7481f0171"},{"_type":"span","marks":[],"text":" or select React.js in the languages dropdown when creating a ","_key":"739b7481f0172"},{"_type":"span","marks":["d5c2d89e33cf"],"text":"new repl","_key":"739b7481f0173"},{"_type":"span","marks":[],"text":".","_key":"739b7481f0174"}],"markDefs":[{"_key":"39112d4d18b1","_type":"link","href":"https://replit.com/@templates/Reactjs"},{"_key":"d5c2d89e33cf","_type":"link","href":"https://replit.com/new/"}],"_type":"block","style":"normal"},{"_key":"fe9e0ef41762","children":[{"_type":"span","marks":[],"text":"Vite is also framework agnostic, so if React isn't your thing, you can use our ","_key":"fe9e0ef417620"},{"_type":"span","marks":["02a52076b1a2"],"text":"Vue","_key":"fe9e0ef417621"},{"_type":"span","marks":[],"text":" and ","_key":"fe9e0ef417622"},{"_type":"span","marks":["4b35fe4a4aea"],"text":"Vanilla JS","_key":"fe9e0ef417623"},{"_type":"span","marks":[],"text":" templates too.","_key":"fe9e0ef417624"}],"markDefs":[{"_key":"02a52076b1a2","_type":"link","href":"https://replit.com/@templates/VueJS-with-Vite"},{"_key":"4b35fe4a4aea","_type":"link","href":"https://replit.com/@templates/Vanilla-Vite"}],"_type":"block","style":"normal"},{"_key":"beac2c495ebe","children":[{"_type":"span","marks":[],"text":"We hope this helps build out your ideas even quicker and look forward to seeing what you build!","_key":"beac2c495ebe0"}],"markDefs":[],"_type":"block","style":"normal"}],"publishedAt":"2021-04-28T00:00:00.000Z"}