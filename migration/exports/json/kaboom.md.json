{"_id":"post-9c2be7ae-a86b-46b8-9a01-9124894c259f","_type":"post","title":"Introducing Kaboom","slug":{"_type":"slug","current":"kaboom"},"body":[{"_key":"d636be245cd9","children":[{"_type":"span","marks":[],"text":"Games are awesome, making games is even more awesome. I love making games, making games makes me happy, being happy makes me make better games, i hope everyone can be happy and enjoy making games! -- me, today","_key":"d636be245cd90"}],"markDefs":[],"_type":"block","style":"blockquote"},{"_key":"28df49d62546","children":[{"_type":"span","_key":"28df49d625460","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"899ccfe21af6","children":[{"_type":"span","marks":[],"text":"We at replit are thinking about ways to make programming more accissible, Kaboom is an effort to try make game making more accessible and fun for both beginners and intermediate programmers. I want to discuss some core designs of both the library and the editor here.","_key":"899ccfe21af60"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"00578c06453e","children":[{"_type":"span","marks":[],"text":"(it's strongly recommended first check out some examples on the kaboom website to get a quick taste of what kaboom looks like)","_key":"00578c06453e0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"47969c09a47d","children":[{"_type":"span","marks":["aa931435fdc3"],"text":"Official website","_key":"47969c09a47d0"}],"markDefs":[{"_key":"aa931435fdc3","_type":"link","href":"https://kaboomjs.com/"}],"_type":"block","style":"normal"},{"_key":"22368fb0c91f","children":[{"_type":"span","marks":["a6a52ac514ce"],"text":"Marketing page","_key":"22368fb0c91f0"}],"markDefs":[{"_key":"a6a52ac514ce","_type":"link","href":"https://replit.com/kaboom/"}],"_type":"block","style":"normal"},{"_type":"embed","_id":"16391e9f-02a2-4175-80c8-7ed1d1903231","url":"https://www.youtube.com/embed/xF3--Ec_E-0","_key":"d9f960d5510c"},{"_key":"58a41d3daa6f","children":[{"_type":"span","marks":[],"text":"Flexible Component System","_key":"58a41d3daa6f0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"88a8cd3e04d4","children":[{"_type":"span","marks":[],"text":"Kaboom draws some inspiration from ECS and used a composable component approach to describe game objects. You create a game object like this:","_key":"88a8cd3e04d40"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"const player = add([\n    sprite(\"froggy\"),\n    pos(20, 20),\n    body(),\n    \"killable\",\n    {\n        health: 100,\n        speed: 240,\n    },\n]);\n","_key":"9f2ade13ab69"},{"_key":"95f920893f95","children":[{"_type":"span","marks":[],"text":"each function in the list is an component, each component gives the game object soome behavior. For example, the ","_key":"95f920893f950"},{"_type":"span","marks":["code"],"text":"sprite()","_key":"95f920893f951"},{"_type":"span","marks":[],"text":" comp tells the object what to draw, the ","_key":"95f920893f952"},{"_type":"span","marks":["code"],"text":"pos()","_key":"95f920893f953"},{"_type":"span","marks":[],"text":" comp tells object where to draw, the ","_key":"95f920893f954"},{"_type":"span","marks":["code"],"text":"body()","_key":"95f920893f955"},{"_type":"span","marks":[],"text":" comp tells the object that they should follow physics rules and fall by gravity. Raw objects are custom fields that gets directly assigned to the returned obj, raw strings like ","_key":"95f920893f956"},{"_type":"span","marks":["code"],"text":"\"killable\"","_key":"95f920893f957"},{"_type":"span","marks":[],"text":" are tags which could be handy when defining group behaviors, we will talk about it later.","_key":"95f920893f958"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"86f32e180f65","children":[{"_type":"span","marks":[],"text":"Each comp also provides the game object with certain methods and data, for example, ","_key":"86f32e180f650"},{"_type":"span","marks":["code"],"text":"pos()","_key":"86f32e180f651"},{"_type":"span","marks":[],"text":" gives the object method ","_key":"86f32e180f652"},{"_type":"span","marks":["code"],"text":"move()","_key":"86f32e180f653"},{"_type":"span","marks":[],"text":" to change position","_key":"86f32e180f654"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"keyDown(\"left\", () => {\n    player.move(-player.speed, 0);\n});\n","_key":"ebe8bf86c587"},{"_key":"a7735e61fd6c","children":[{"_type":"span","marks":["code"],"text":"sprite()","_key":"a7735e61fd6c0"},{"_type":"span","marks":[],"text":" gives the object methods to play animation that's loaded with ","_key":"a7735e61fd6c1"},{"_type":"span","marks":["code"],"text":"loadSprite()","_key":"a7735e61fd6c2"},{"_type":"span","marks":[],"text":" before","_key":"a7735e61fd6c3"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"player.play(\"jump\");\n","_key":"05f3d9c35576"},{"_key":"e7aa88383fc5","children":[{"_type":"span","marks":["code"],"text":"body()","_key":"e7aa88383fc50"},{"_type":"span","marks":[],"text":" gives the object a ","_key":"e7aa88383fc51"},{"_type":"span","marks":["code"],"text":"jump()","_key":"e7aa88383fc52"},{"_type":"span","marks":[],"text":" function to jump","_key":"e7aa88383fc53"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"keyPress(\"space\", () => {\n    if (player.grounded()) {\n        player.jump();\n    }\n});\n","_key":"22e9fff384f5"},{"_key":"8d720def885d","children":[{"_type":"span","marks":[],"text":"under the hood, components are really simple, they're just functions that return an object, a slight simplified ","_key":"8d720def885d0"},{"_type":"span","marks":["code"],"text":"sprite()","_key":"8d720def885d1"},{"_type":"span","marks":[],"text":" looks like this:","_key":"8d720def885d2"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"function sprite() {\n    return {\n        curAnim: null,\n        frame: 0,\n        add() {\n            // add a default area() component on start\n            this.use(area(/* calc  */));\t\n        },\n        update() {\n            // player anim (increase frame counter)\n            if (this.curAnim) {\n                this.frame += 1;\n            }\n        },\n        draw() {\n            // invokes the lower level draw function\n            drawSprite(/* data */);\n        },\n        play(anim) {\n            this.curAnim = anim;\n        },\n    };\n}\n","_key":"2d616f687bfc"},{"_key":"493405361135","children":[{"_type":"span","marks":[],"text":"there are special lifecycle functions like ","_key":"4934053611350"},{"_type":"span","marks":["code"],"text":"add()","_key":"4934053611351"},{"_type":"span","marks":[],"text":", ","_key":"4934053611352"},{"_type":"span","marks":["code"],"text":"draw()","_key":"4934053611353"},{"_type":"span","marks":[],"text":" and ","_key":"4934053611354"},{"_type":"span","marks":["code"],"text":"update()","_key":"4934053611355"},{"_type":"span","marks":[],"text":", other functions and data are directly assigned to the game object itself.","_key":"4934053611356"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"1a35005957ea","children":[{"_type":"span","marks":[],"text":"Describing Behaviors","_key":"1a35005957ea0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"eb8862cd7324","children":[{"_type":"span","_key":"eb8862cd73240","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"0522b1e9ee0e","children":[{"_type":"span","marks":[],"text":"Kaboom provides a lot of primitives to describe behaviors, for example, the most function you'll be using might be","_key":"0522b1e9ee0e0"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"const player = add([\n    // ...\n]);\n\nplayer.action(() => {\n    player.health -= 1;\n});\n","_key":"d7bcf78618c2"},{"_key":"c226dc28e43f","children":[{"_type":"span","marks":["code"],"text":"obj.action()","_key":"c226dc28e43f0"},{"_type":"span","marks":[],"text":" takes in a function and runs it everyframe as long as the object still exists in scene (not ","_key":"c226dc28e43f1"},{"_type":"span","marks":["code"],"text":"destroy()","_key":"c226dc28e43f2"},{"_type":"span","marks":[],"text":"ed).","_key":"c226dc28e43f3"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"0519493af35b","children":[{"_type":"span","marks":[],"text":"Remember you can give object tags by directly passing strings as components? Tags are powerful tools when defining behaviors of certain type of objects, e.g.","_key":"0519493af35b0"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"add([\n    sprite(\"notmark\"),\n    \"enemy\",\n]);\n\naction(\"enemy\", (e) => {\n    const dir = e.pos.sub(player.pos).unit();\n    e.pos = e.pos.add(dir.scale(ENEMY_SPEED));\n    // i know no operation overloading sucks..\n});\n\ncollides(\"enemy\", \"killable\", (e, k) => {\n    destroy(e);\n    destroy(k);\n});\n","_key":"e511393896df"},{"_key":"9275aa67cd95","children":[{"_type":"span","marks":[],"text":"when we're creating enemies, we can give it an ","_key":"9275aa67cd950"},{"_type":"span","marks":["code"],"text":"\"enemy\"","_key":"9275aa67cd951"},{"_type":"span","marks":[],"text":" tag and define behaviors for all objects that have tag ","_key":"9275aa67cd952"},{"_type":"span","marks":["code"],"text":"\"enemy\"","_key":"9275aa67cd953"},{"_type":"span","marks":[],"text":", in this case we're making all enemies move toward the player every frame, and check collision between all ","_key":"9275aa67cd954"},{"_type":"span","marks":["code"],"text":"\"enemy\"","_key":"9275aa67cd955"},{"_type":"span","marks":[],"text":" and ","_key":"9275aa67cd956"},{"_type":"span","marks":["code"],"text":"\"killable\"","_key":"9275aa67cd957"},{"_type":"span","marks":[],"text":"s, and destroy them both when any 2 of them collides.","_key":"9275aa67cd958"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"8df52a986200","children":[{"_type":"span","marks":[],"text":"the input handlers are also written in a similar fashion, making the overall code look blocky and event driven","_key":"8df52a9862000"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"keyPress(\"k\", () => {\n    // ...\n});\n\nmouseClick(() => {\n    // ...\n});\n","_key":"d79e9421c73c"},{"_key":"b472389e3f5a","children":[{"_type":"span","marks":[],"text":"Helpers","_key":"b472389e3f5a0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"4fbfd7d7f571","children":[{"_type":"span","_key":"4fbfd7d7f5710","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"8e596fc43fb0","children":[{"_type":"span","marks":[],"text":"Helping people is considered nice, and it's nice for a library to help out the developers! Kaboom provides some small helpers to build certain features easily, for example there's this ","_key":"8e596fc43fb00"},{"_type":"span","marks":["code"],"text":"addLevel","_key":"8e596fc43fb01"},{"_type":"span","marks":[],"text":" function that let's you draw a level with ascii art and define what each symbol means, like","_key":"8e596fc43fb02"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"addLevel([\n    \"        $    \",\n    \"      ====   \",\n    \"             \",\n    \"     ^^      \",\n    \"=============\",\n], {\n    // defining grid size\n    width: 12,\n    height: 12,\n    // defining what each symbol means\n    \"=\": [\n        sprite(\"ground\"),\n        solid(),\n    ],\n    \"$\": [\n        sprite(\"coin\"),\n        \"coin\",\n    ],\n});\n","_key":"eeaa97c3afa3"},{"_key":"ed571f0928ee","children":[{"_type":"span","marks":[],"text":"with the handy component system, we just define each symbole as a list of components.","_key":"ed571f0928ee0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"b815f08ef11a","children":[{"_type":"span","marks":[],"text":"Integrated Environment","_key":"b815f08ef11a0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"12db9f1055f2","children":[{"_type":"span","_key":"12db9f1055f20","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"d688e9804ceb","children":[{"_type":"span","marks":[],"text":"Finally get to Kaboom on replit!","_key":"d688e9804ceb0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"b4ba8ef2c964","children":[{"_type":"span","marks":[],"text":"Inspired by the Fantasy Consoles, we're thinking building an environment dedicated for building games, with replit's powerful infra on code editing, sharing and collab, it could become an exciting game making scene. The Kaboom replit is an integrated environment where you can edit and manage all your code + assets, and run game in one place. There's the classic code editor and runner, and there're sprite managers, sprite editor, debugger, in the future even sound editor and music makers. The editor is still in early dev, expect exciting features and improvements to come!","_key":"b4ba8ef2c9640"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"d15777ec51f7","children":[{"_type":"span","_key":"d15777ec51f70","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"fd2b8b2c9bdc","children":[{"_type":"span","marks":[],"text":"Debug Tools","_key":"fd2b8b2c9bdc0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"50a992941d8e","children":[{"_type":"span","_key":"50a992941d8e0","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"015e0129cd57","children":[{"_type":"span","marks":[],"text":"Kaboom editor on replit also provides UI for kaboom's debug abilities, for example, you can enable","_key":"015e0129cd570"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"3c0de49ca5fa","children":[{"_type":"span","marks":[],"text":"\"Show Area\" to draw a bounding box on every object with an ","_key":"3c0de49ca5fa0"},{"_type":"span","marks":["code"],"text":"area()","_key":"3c0de49ca5fa1"},{"_type":"span","marks":[],"text":" component","_key":"3c0de49ca5fa2"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"16ea0b48dc54","children":[{"_type":"span","marks":[],"text":"\"Hover Info\" to enable hovering an object to inspect its states,","_key":"16ea0b48dc540"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"fc915c5ff7a0","children":[{"_type":"span","marks":[],"text":"\"Time Scale\" to scale the time, enables you to run the game in slow / high motion","_key":"fc915c5ff7a00"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"690029856a29","children":[{"_type":"span","marks":[],"text":"\"Pause\" to pause the game at any moment","_key":"690029856a290"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"1d8d99ac344d","children":[{"_type":"span","marks":[],"text":"\"Step Frame\" to proceed to next frame, handy when paused","_key":"1d8d99ac344d0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"304a50b801ca","children":[{"_type":"span","marks":[],"text":"Hope kaboom can help you guys make some cool stuff, happy game making!","_key":"304a50b801ca0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"b890c7accb6e","children":[{"_type":"span","_key":"b890c7accb6e0","text":"","marks":[]}],"markDefs":[],"_type":"block","style":"normal"}],"publishedAt":"2021-04-06T00:00:00.000Z"}