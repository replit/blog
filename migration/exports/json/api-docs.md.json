{"_id":"post-6ee71921-af99-4a57-a0c5-d80a3e794e15","_type":"post","title":"API Docs","slug":{"_type":"slug","current":"api-docs"},"body":[{"_key":"22e615424cc6","children":[{"_type":"span","marks":[],"text":"[Update Oct 2022: We have retired our API, we are excited by our previous work but we do not have the resources to support this at the moment.]","_key":"22e615424cc60"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"acaa93df2c80","children":[{"_type":"span","marks":[],"text":"Repl.it's code execution API is an HTTP and WebSocket endpoint that you connect to and send code to execute. You can connect from any device or browser and start executing code. This guide will describe the concepts behind the service, how it can be used, and provide a step-by-step guide for signing up and trying out the service!","_key":"acaa93df2c800"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"bee909de27b7","children":[{"_type":"span","marks":[],"text":"Code Execution","_key":"bee909de27b70"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"72d7f4a5922a","children":[{"_type":"span","marks":[],"text":"You're probably here because you want to run some user code in an app or website somewhere. Our customers use the Repl.it API for many different things including:","_key":"72d7f4a5922a0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"ba7f9d6541c6","children":[{"_type":"span","marks":[],"text":"In-browser coding environments","_key":"ba7f9d6541c60"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"9808e7bd5602","children":[{"_type":"span","marks":[],"text":"In-browser coding exercises","_key":"9808e7bd56020"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"90330f32ea8b","children":[{"_type":"span","marks":[],"text":"Correcting student/user code in an online course","_key":"90330f32ea8b0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"42c736d6ac25","children":[{"_type":"span","marks":[],"text":"Realtime interviews","_key":"42c736d6ac250"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"98989e25a9ed","children":[{"_type":"span","marks":[],"text":"Many more","_key":"98989e25a9ed0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"5db3c7775440","children":[{"_type":"span","marks":[],"text":"So you're at the right place. We provide a sandbox in the cloud to execute code securely, reliably, cheaply, and easily. The code that you send us will be executed in a Linux container where you have the ability to access system resources like the filesystem. Anything that works in a regular development environment should work on our API.","_key":"5db3c77754400"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"181f8dbc0b03","children":[{"_type":"span","marks":[],"text":"The HTTP Interface","_key":"181f8dbc0b030"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"e3749a25c50b","children":[{"_type":"span","marks":[],"text":"If you're interested in executing a piece of code or a project (multiple files) without opening a two-way persistent connection then you should go with this interface. It's only one API call and it's much simpler.","_key":"e3749a25c50b0"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"f921651adb09","children":[{"_type":"span","marks":[],"text":"For an example of how this is used in the wild take a look at ","_key":"f921651adb090"},{"_type":"span","marks":["372539342015"],"text":"CoderByte","_key":"f921651adb091"},{"_type":"span","marks":[],"text":" which uses our API to create in-browser coding challenges.","_key":"f921651adb092"}],"markDefs":[{"_key":"372539342015","_type":"link","href":"https://coderbyte.com/editor/guest:First%20Factorial:Python"}],"_type":"block","style":"normal"},{"_key":"d8184033e8e0","children":[{"_type":"span","marks":[],"text":"The Websocket Interface","_key":"d8184033e8e00"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"ac8c47a436e7","children":[{"_type":"span","marks":[],"text":"If you want to create a ","_key":"ac8c47a436e70"},{"_type":"span","marks":["a0ce0eebbef4"],"text":"REPL-like","_key":"ac8c47a436e71"},{"_type":"span","marks":[],"text":" experience where your users can execute code in a ","_key":"ac8c47a436e72"},{"_type":"span","marks":["em"],"text":"stateful","_key":"ac8c47a436e73"},{"_type":"span","marks":[],"text":" environment then this should be your choice. What we mean by stateful is that you can, for example, define a variable with one call and then access it in in the next. You may be familiar with this concept from using the Python, Ruby, or Node repl:","_key":"ac8c47a436e74"}],"markDefs":[{"_key":"a0ce0eebbef4","_type":"link","href":"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop"}],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"$ python\n>>> x = 1\n>>> x\n1\n>>>\n","_key":"f4fbc7bdfe6b"},{"_key":"a6c8814c2f64","children":[{"_type":"span","marks":[],"text":"For an example of how this is used in the wild take a look at, yours truly, ","_key":"a6c8814c2f640"},{"_type":"span","marks":["9dc51a6f60b4"],"text":"repl.it","_key":"a6c8814c2f641"},{"_type":"span","marks":[],"text":".","_key":"a6c8814c2f642"}],"markDefs":[{"_key":"9dc51a6f60b4","_type":"link","href":"https://repl.it"}],"_type":"block","style":"normal"},{"_key":"700fefb19783","children":[{"_type":"span","marks":[],"text":"The JavaScript library","_key":"700fefb197830"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"c2c45c9928aa","children":[{"_type":"span","marks":[],"text":"We provide a JavaScript library ","_key":"c2c45c9928aa0"},{"_type":"span","marks":["3130ac2811db"],"text":"ReplitClient.js","_key":"c2c45c9928aa1"},{"_type":"span","marks":[],"text":" that helps you connect to our servers and run your code. If you need libraries in other languages, please get in touch with us. The library leans heavily on JavaScript Promises to manage async code. It's well documented, well tested, and battle-tested.","_key":"c2c45c9928aa2"}],"markDefs":[{"_key":"3130ac2811db","_type":"link","href":"https://github.com/replit/ReplitClient.js"}],"_type":"block","style":"normal"},{"_key":"12afc1973921","children":[{"_type":"span","marks":[],"text":"The library is installable from npm:","_key":"12afc19739210"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"npm install replit-client\n","_key":"71196f638688"},{"_key":"57dcdb1aa46c","children":[{"_type":"span","marks":[],"text":"Alternatively you can grab a ready-built library from our site:","_key":"57dcdb1aa46c0"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"<script src=\"https://repl.it/lib/api.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\n","_key":"b80606103b1f"},{"_key":"ea138fb96521","children":[{"_type":"span","marks":[],"text":"The Token Generator","_key":"ea138fb965210"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"8ed4b72609fc","children":[{"_type":"span","marks":[],"text":"For security purposes, there is a small backend component, which is standard for most services that need to generate tokens. Your tokens are good for 5 days, but it's best to generate a new token per user. ","_key":"8ed4b72609fc0"},{"_type":"span","marks":["c3f99a3967f8"],"text":"Here is a Ruby program","_key":"8ed4b72609fc1"},{"_type":"span","marks":[],"text":" that some of our customers use to generate tokens.","_key":"8ed4b72609fc2"}],"markDefs":[{"_key":"c3f99a3967f8","_type":"link","href":"https://repl.it/gZp/1"}],"_type":"block","style":"normal"},{"_key":"60b334617b04","children":[{"_type":"span","marks":[],"text":"Just replace \"keyboardcat\" with your secret key (found on your account page) and you're good to go.","_key":"60b334617b040"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"43499abe97fd","children":[{"_type":"span","marks":[],"text":"Plans and Limits","_key":"43499abe97fd0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"66235a2104dc","children":[{"_type":"span","marks":[],"text":"The limits are outlined on our ","_key":"66235a2104dc0"},{"_type":"span","marks":["cca898bb2054"],"text":"API","_key":"66235a2104dc1"},{"_type":"span","marks":[],"text":" and ","_key":"66235a2104dc2"},{"_type":"span","marks":["3c42a83888fd"],"text":"checkout","_key":"66235a2104dc3"},{"_type":"span","marks":[],"text":" pages. We have two limits that we impose:","_key":"66235a2104dc4"}],"markDefs":[{"_key":"cca898bb2054","_type":"link","href":"/site/api"},{"_key":"3c42a83888fd","_type":"link","href":"/api/checkout"}],"_type":"block","style":"normal"},{"_key":"f43c7c5aaaad","children":[{"_type":"span","marks":[],"text":"Runs: which is how many times you call ","_key":"f43c7c5aaaad0"},{"_type":"span","marks":["code"],"text":"evaluateOnce","_key":"f43c7c5aaaad1"},{"_type":"span","marks":[],"text":" or ","_key":"f43c7c5aaaad2"},{"_type":"span","marks":["code"],"text":"eval","_key":"f43c7c5aaaad3"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"7d51c07034bf","children":[{"_type":"span","marks":[],"text":"Concurrent WebSocket connections: how many people are connected at the same time","_key":"7d51c07034bf0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"bullet"},{"_key":"e6059fefed31","children":[{"_type":"span","marks":[],"text":"We impose the connection limit on websockets because we keep the container running for your user while they're connected and this costs us money.","_key":"e6059fefed310"}],"markDefs":[],"_type":"block","style":"normal"},{"_key":"ac7d6eb67f11","children":[{"_type":"span","marks":[],"text":"You can see your current status of how many connected users and how many runs you have left by visiting the following URL where {SECRET} is found on your account page and in the email we sent you when you signed up.","_key":"ac7d6eb67f110"}],"markDefs":[],"_type":"block","style":"normal"},{"_type":"codeBlock","language":"text","codeContent":"http://api.repl.it/cus/{SECRET}\n","_key":"ff7f8f2c4290"},{"_key":"4d757fc1d05f","children":[{"_type":"span","marks":[],"text":"You can read more on the mechanics of rate limiting ","_key":"4d757fc1d05f0"},{"_type":"span","marks":["e938c9ffd914"],"text":"here","_key":"4d757fc1d05f1"},{"_type":"span","marks":[],"text":".","_key":"4d757fc1d05f2"}],"markDefs":[{"_key":"e938c9ffd914","_type":"link","href":"/site/blog/websocket-rate-limiting"}],"_type":"block","style":"normal"},{"_key":"54e5e5bd086d","children":[{"_type":"span","marks":[],"text":"Getting Started","_key":"54e5e5bd086d0"}],"markDefs":[],"_type":"block","style":"h2"},{"_key":"284ea401272e","children":[{"_type":"span","marks":[],"text":"Pick the right plan for you and ","_key":"284ea401272e0"},{"_type":"span","marks":["8bae49490ca5"],"text":"signup","_key":"284ea401272e1"},{"_type":"span","marks":[],"text":" for our service.","_key":"284ea401272e2"}],"markDefs":[{"_key":"8bae49490ca5","_type":"link","href":"https://repl.it/site/api"}],"_type":"block","style":"normal","level":1,"listItem":"number"},{"_key":"e96e6f398f07","children":[{"_type":"span","marks":[],"text":"Go to your ","_key":"e96e6f398f070"},{"_type":"span","marks":["790b10112531"],"text":"account","_key":"e96e6f398f071"},{"_type":"span","marks":[],"text":" and grab your secret token","_key":"e96e6f398f072"}],"markDefs":[{"_key":"790b10112531","_type":"link","href":"https://repl.it/account"}],"_type":"block","style":"normal","level":1,"listItem":"number"},{"_key":"ca2d4597efeb","children":[{"_type":"span","marks":[],"text":"Grab the JavaScript library (described above)","_key":"ca2d4597efeb0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"number"},{"_key":"b36862a2ee85","children":[{"_type":"span","marks":[],"text":"Instantiate the repl instance:","_key":"b36862a2ee850"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"number"},{"_type":"codeBlock","language":"text","codeContent":"var repl = new ReplitClient('api.repl.it', 80, 'ruby', REPLIT_TOKEN);\n","_key":"5f140f78588d"},{"_key":"61db4290784f","children":[{"_type":"span","marks":[],"text":"Use the http interface to execute code:","_key":"61db4290784f0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"number"},{"_type":"codeBlock","language":"text","codeContent":"repl.evaluateOnce(\n  'puts \"hello wolrd\"', {\n  stdout: function(output) {\n    // output from the ruby process: hello world\n    console.log(output);\n  }\n}).then(\n  function success(result) {\n    // The evaluation succeeded. Result will contain `data` or `error`\n    // depending on whether the code compiled and ran or if there was an\n    // error.\n    if (result.error) {\n      console.log('Error:', result.error);\n    } else {\n      console.log('Result', result.data);\n    }\n  },\n  function error(error) {\n    // There was an error connecting to the service :(\n    console.error('Error connecting to repl.it');\n  }\n);\n","_key":"0614698054a1"},{"_key":"934bc9e11e7b","children":[{"_type":"span","marks":[],"text":"Or use the websocket interface to execute code:","_key":"934bc9e11e7b0"}],"markDefs":[],"_type":"block","style":"normal","level":1,"listItem":"number"},{"_type":"codeBlock","language":"text","codeContent":"repl.connect().then(function() {\n  console.log('connected');\n\n  // Connected now we evaluate some code.\n  return repl.evaluate('x = 1');\n}).then(\n  function() {\n    // The evaluation succeeded. Result will contain `data` or `error`\n    // depending on whether the code compiled and ran or if there was an\n    // error.\n    if (result.error) {\n      console.log('Error:', result.error);\n        } else {\n      console.log('Result', result.data);\n    }\n\n    // After that you may repeat the process and evaluate code in the same context.\n  },\n  function error(error) {\n    // There was an error connecting to the service :(\n    console.error('Error connecting to repl.it');\n  }\n);\n","_key":"9f0b0fb3811d"},{"_key":"57032cc7ecb8","children":[{"_type":"span","marks":[],"text":"We put together an ","_key":"57032cc7ecb80"},{"_type":"span","marks":["7b46c74de82b"],"text":"end-to-end example","_key":"57032cc7ecb81"},{"_type":"span","marks":[],"text":" for you on repl.it. You just need to generate your token (you can use ","_key":"57032cc7ecb82"},{"_type":"span","marks":["dbfbb71db908"],"text":"this","_key":"57032cc7ecb83"},{"_type":"span","marks":[],"text":") and then insert in the JavaScript file where it says ","_key":"57032cc7ecb84"},{"_type":"span","marks":["code"],"text":"TOKEN","_key":"57032cc7ecb85"},{"_type":"span","marks":[],"text":" and you should be able to test out the service.","_key":"57032cc7ecb86"}],"markDefs":[{"_key":"7b46c74de82b","_type":"link","href":"https://repl.it/C5ox/1"},{"_key":"dbfbb71db908","_type":"link","href":"https://repl.it/gZp/1"}],"_type":"block","style":"normal"},{"_key":"a111276558cb","children":[{"_type":"span","marks":[],"text":"For more documentation about our JS library don't forget to checkout the ","_key":"a111276558cb0"},{"_type":"span","marks":["9ac97898228f"],"text":"repo","_key":"a111276558cb1"},{"_type":"span","marks":[],"text":". And shoot us an ","_key":"a111276558cb2"},{"_type":"span","marks":["50caf7f99ee2"],"text":"email","_key":"a111276558cb3"},{"_type":"span","marks":[],"text":" with any questions.","_key":"a111276558cb4"}],"markDefs":[{"_key":"9ac97898228f","_type":"link","href":"https://github.com/replit/ReplitClient.js"},{"_key":"50caf7f99ee2","_type":"link","href":"mailto:contact@repl.it"}],"_type":"block","style":"normal"}],"publishedAt":"2016-06-24T07:00:00.000Z"}