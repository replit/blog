<p>Programming is hard, especially for beginners where the code &lt;-&gt; output feedback loop is cumbersome. People need to click run button, see output, change code, click run again see output. There are a lot of ideas that greatly improved this experience like live-reloading (a lot in the audio / visual context, and UI dev). However the most exciting idea I&#39;ve seen is still the experiments done by Bret Victor, like in <a href="http://worrydream.com/LearnableProgramming/">Learnable Programming</a>. Seeing his experiements on combining live reload + sensible controls still takes my breath every time.</p>
<p>You might know we&#39;re on the way of adopting Codemirror 6 to replace Monaco for a more extensible and maintainable editor (shoutout to <a href="https://twitter.com/SergeiChestakov">Sergei</a> for carrying us through this hard time!). One day I saw <a href="https://twitter.com/masadfrost">Faris</a> made a <a href="https://github.com/replit/Codemirror-CSS-color-picker">css color picker</a> codemirror 6 extension and it got me thinking, hmm CM6&#39;s extension system is really handy, what if we make some more sensible controls over all kinds of values, and make something like the Bret Victor experiments?</p>
<p>Excited by the idea, I decided to do shove off some non-urgent tasks and do a little hack week on my own to jam out these thoughts. But first, gotta book a slot on the demo calendar:</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/barron.png" alt="demo"></p>
<p>excited to excite <a href="https://twitter.com/WarronBebster">Barron</a></p>
<p>First, I made a codemirror6 extension that lets you use mouse clicking / dragging to interact with arbitury values</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/cm-interact.gif" alt="cm-interact"></p>
<p>(it&#39;s now open sourced at <a href="https://github.com/replit/codemirror-interact">replit/codemirror-interact</a>, the github repo contains usage example and source code)</p>
<p>Obviously we need to hook this up to something that can provide live visual feedback, and it&#39;s natural to think of our in-house game ibrary <a href="https://kaboomjs.com/">Kaboom</a>, which actually has some decent drawing capabilities and has an interface similar to love2d or p5.js where you call <code>drawXXX()</code> functions every frame (which the internal components like <code>sprite()</code> or <code>rect()</code> are built on top of). We can create a template where we evaluate users&#39;s code inside a <code>onDraw()</code> event which runs every frame, and since user code are re-evaluated every frame we basically get free no latency live reload! (check out <a href="https://replit.com/@replit/Kaboom-Draw#main.ts">@replt/Kaboom-Draw#main.ts</a> for the inner workings)</p>
<p>Putting these 2 together, we got some magical effects.</p>
<p>Hold <code>alt</code> and drag horizontally to change numbers</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/num.gif" alt="num"></p>
<p>Hold <code>alt</code> and drag <code>vec2(x, y)</code> and the mouse movement will be directly mapped to object displacement</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/vec2.gif" alt="vec2"></p>
<p>Hold <code>alt</code> and click on a <code>rgb(r, g, b)</code> color to use a color picker</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/color.gif" alt="color"></p>
<p>and some other handy helper features like a snippet bar for easily create shapes</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/shapes.gif" alt="shapes"></p>
<p>easily use images by dragging them inline</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/sprite.gif" alt="sprite"></p>
<p>Here&#39;s a video that demonstrates live coding an animated drawing:</p>
<p><video controls webkit-playsinline="true" playsinline="" src="https://blog.repl.it/images/kaboomdraw/drawing.mp4"></video></p>
<p>Noticed how it uses <code>time()</code> and <code>wave()</code> to create animation? This video also contains an unreleased feature which is edit the image directly inline which I definitely hope to bring out in the future.</p>
<p>It makes it very easy to observe emergent effects. Here&#39;s another video demonstrating making a solar system (part of it, the code is in the template below)</p>
<p><video controls webkit-playsinline="true" playsinline="" src="https://blog.repl.it/images/kaboomdraw/solar.mp4"></video></p>
<p>And here&#39;s a montage of the examples in the template where you can learn / tweak around (I&#39;m not a creative technologist these are the best I can do)</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/demo.gif" alt="demo"></p>
<p>Click <a href="https://replit.com/@replit/Kaboom-Draw">here</a> to create a Kaboom Draw repl now and make some fun images, animations and generative art! And don&#39;t forget to publish it so we can all see your cool stuff.</p>
<p><img src="https://blog.repl.it/images/kaboomdraw/cta.png" alt="cta"></p>
<p>And of course these aren&#39;t totally exclusive to kaboom, try hack the template and make it work for other types of projects, like p5.js! Or even something audio related, lots of possibilities. </p>
